# 清除浮动

> **参考**
>
> [《浮动》【来源：MDN】](https://developer.mozilla.org/zh-CN/docs/Learn/CSS/CSS_layout/Floats)
>
> [《clear》【来源：MDN】](https://developer.mozilla.org/zh-CN/docs/Web/CSS/clear)
>
> [《清除浮动的四种方式及其原理理解》(作者：ThinkMore28092)【来源：掘金】](https://juejin.cn/post/6844903504545316877)

[TOC]

## 浮动导致了什么问题，为什么要清除浮动？

- 脱离文档流
- 浮动会导致同一父级元素下的子级元素层级错乱
- 同一父级元素下的子级元素设置浮动，会使父级元素出现高度坍缩（在父元素没有设置高度的情况下）
- 对父级元素的兄弟元素也产生了影响

## 清除浮动的方法

### clear

> 指定一个元素是否必须移动(清除浮动后)到在它之前的浮动元素下面。clear 属性适用于浮动和非浮动元素。

当应用于非浮动块时，它将非浮动块的边框边界移动到所有相关浮动元素外边界的下方。这个非浮动块的垂直外边距会折叠。另一方面，两个浮动元素的垂直外边距将不会折叠。

当应用于浮动元素时，它将元素的外边界移动到所有相关的浮动元素外边框边界的下方。这会影响后面浮动元素的布局，后面的浮动元素的位置无法高于它之前的元素。

要被清除的相关浮动元素指的是在相同块级格式化上下文中的前置浮动。

**值：**

- none
  - 元素不会向下移动清除之前的浮动。
- left
  - 元素被向下移动用于清除之前的左浮动。
- right
  - 元素被向下移动用于清除之前的右浮动。
- both
  - 元素被向下移动用于清除之前的左右浮动。

**clear 是用来清除当前设置此属性元素之前元素的影响。** 一般用在有浮动属性的元素的下一个同级元素。

### 利用伪元素（clearfix）

```css
.clearfix:after {
  content: '';
  height: 0;
  line-height: 0;
  clear: both;
  display: block; /* table */
  visibility: hidden;
}
.clearfix {
  zoom: 1; /* (IE浏览器写法) */
}
```

### 创建 BFC

块格式化上下文对浮动定位都很重要。**浮动定位和清除浮动时只会应用于同一个 BFC 内的元素。** 浮动不会影响其它 BFC 中元素的布局，而清除浮动只能清除同一 BFC 中在它前面的元素的浮动。

[如何创建一个 BFC](./02-BFC块级格式化上下文.md)

### 在含有浮动元素的父元素结束标签之前添加清除浮动的块级元素

```html
<style>
  p {
    float: left;
  }

  .clear {
    clear: both;
  }
</style>

<div class="box">
  <p>111</p>
  <p>222</p>
  <div class="clear"></div>
  <p>333</p>
</div>
```
